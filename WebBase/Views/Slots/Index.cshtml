@model IEnumerable<ContosoUniversity.Models.Slot>

@{
    ViewData["Title"] = "Index";
}

@{ 

    var name = "none";
    for (int i = 0; i < ViewBag.length; i++)
    {
        if (ViewBag.students[i].uid == User.Identity.Name.Split('@')[0])
        {
            name = ViewBag.students[i].FirstMidName + " " + ViewBag.students[i].LastName;
            break;
        }
    }    
}
<h1>Availability for @name</h1>

<!--TODO: update this to fit the new specified view-->
<!--AJAX template

    $.ajax({
        url: 'atSymbolUrl.Action("methodName", "comment header?")',
        content : "the content needed",
        dataType : "json",
        success: successFunciton,
        error : errorfunction
    });
    -->

<div id="availabilty-header">
    <p>
        Please indicate all times that you <b>will be</b> available during the week. This information is used by the <br />
        hiring committee and professors to determine class coverage, lab coverage, office our coverage, etc.<br />
        (Note: Any work necessary on the weekends will be up to you and your professor to negotiate.)<br />
        <br />
        If you schedule changes, please come back and update this record
    </p>
</div>
<div id="availability-table">

</div>
<div>
    <!--put button here that calls set schedule via ajax-->
</div>
<!-- add pixi cdn-->

<script>    
    //TODO: move this below the get function after it works so the canvas can be drawn correctly
    $(document).ready(function () {
        setScreen();
    })

    $.ajax({        
        url: '@Url.Action("GetSchedule", "SlotsController")',
        
        success: function (data) { alert("got message back") },
        
        dataType: JSON
    });

</script>
